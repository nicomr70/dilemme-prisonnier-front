{"ast":null,"code":"var _jsxFileName = \"/Users/nico/Documents/fac/M1 MIAGE/S7/PC/DP/dilemme-prisonnier/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport React, { useEffect, useState } from 'react';\nimport ButtonJeu from \"./component/buttonJeu/ButtonJeu\";\nimport Strategy from \"./component/Strategy/Strategy\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ADDRSERVEUR = \"http://localhost:2200\";\nconst st = {\n  jeu: 1,\n  pointJ1: 3,\n  pointJ2: 1\n};\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Game, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n}\n\n_c = App;\n\nfunction Game() {\n  _s();\n\n  const [state, setState] = useState({\n    b1: false,\n    b2: false,\n    jeu: { ...st\n    }\n  });\n  useEffect(() => {//faire un fetch pour l'état initial du jeu\n  });\n\n  const handleClick = async (response, id) => {\n    setState({ ...state,\n      b1: true,\n      b2: true\n    });\n    await fetch(ADDRSERVEUR + \"/jeu/jeu/id=\" + 1 + \"&prop=\" + response, {\n      method: 'POST'\n    });\n    await fetch(ADDRSERVEUR + \"/jeu/miseEnAttente\").then(reponse => {\n      setState({\n        b1: false,\n        b2: false,\n        jeu: reponse\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ResumeGame, {\n      jeu: state.jeu\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ButtonJeu, {\n      id: \"c\",\n      onClick: handleClick,\n      nameButton: \"cooperate\",\n      disabled: state.b1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ButtonJeu, {\n      id: \"l\",\n      onClick: handleClick,\n      nameButton: \"livery\",\n      disabled: state.b1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Strategy, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Game, \"jG6QF7jEMxh0u0k8L8XXRwar8xs=\");\n\n_c2 = Game;\n\nfunction ResumeGame(_ref) {\n  let {\n    jeu\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: JSON.stringify(jeu)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 16\n  }, this);\n}\n\n_c3 = ResumeGame;\nexport default App;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Game\");\n$RefreshReg$(_c3, \"ResumeGame\");","map":{"version":3,"sources":["/Users/nico/Documents/fac/M1 MIAGE/S7/PC/DP/dilemme-prisonnier/src/App.js"],"names":["React","useEffect","useState","ButtonJeu","Strategy","ADDRSERVEUR","st","jeu","pointJ1","pointJ2","App","Game","state","setState","b1","b2","handleClick","response","id","fetch","method","then","reponse","ResumeGame","JSON","stringify"],"mappings":";;;AAAA,OAAO,WAAP;AACA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,OAAOC,QAAP,MAAqB,+BAArB;;;AAEA,OAAO,MAAMC,WAAW,GAAC,uBAAlB;AACP,MAAMC,EAAE,GAAE;AACNC,EAAAA,GAAG,EAAG,CADA;AAENC,EAAAA,OAAO,EAAG,CAFJ;AAGNC,EAAAA,OAAO,EAAG;AAHJ,CAAV;;AAMA,SAASC,GAAT,GAAe;AAGb,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACI,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;KARQA,G;;AAWT,SAASC,IAAT,GAAe;AAAA;;AACX,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAkBX,QAAQ,CAAC;AAACY,IAAAA,EAAE,EAAE,KAAL;AAAWC,IAAAA,EAAE,EAAC,KAAd;AAAoBR,IAAAA,GAAG,EAAC,EAAC,GAAGD;AAAJ;AAAxB,GAAD,CAAhC;AAEAL,EAAAA,SAAS,CAAC,MAAI,CACV;AACH,GAFQ,CAAT;;AAIA,QAAMe,WAAW,GAAE,OAAOC,QAAP,EAAgBC,EAAhB,KAAqB;AACpCL,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AACLE,MAAAA,EAAE,EAAG,IADA;AAELC,MAAAA,EAAE,EAAE;AAFC,KAAD,CAAR;AAKA,UAAMI,KAAK,CAACd,WAAW,GAAC,cAAZ,GAA2B,CAA3B,GAA6B,QAA7B,GAAsCY,QAAvC,EAAgD;AAACG,MAAAA,MAAM,EAAG;AAAV,KAAhD,CAAX;AACA,UAAMD,KAAK,CAACd,WAAW,GAAC,oBAAb,CAAL,CAAwCgB,IAAxC,CAA8CC,OAAD,IAAW;AACtDT,MAAAA,QAAQ,CAAC;AACLC,QAAAA,EAAE,EAAG,KADA;AAELC,QAAAA,EAAE,EAAE,KAFC;AAGLR,QAAAA,GAAG,EAACe;AAHC,OAAD,CAAR;AAKH,KANC,CAAN;AAQH,GAfD;;AAiBA,sBAAO;AAAA,4BACH,QAAC,UAAD;AAAY,MAAA,GAAG,EAAEV,KAAK,CAACL;AAAvB;AAAA;AAAA;AAAA;AAAA,YADG,eAEH,QAAC,SAAD;AAAY,MAAA,EAAE,EAAE,GAAhB;AAAoB,MAAA,OAAO,EAAES,WAA7B;AAA0C,MAAA,UAAU,EAAC,WAArD;AAAiE,MAAA,QAAQ,EAAEJ,KAAK,CAACE;AAAjF;AAAA;AAAA;AAAA;AAAA,YAFG,eAGH,QAAC,SAAD;AAAW,MAAA,EAAE,EAAC,GAAd;AAAkB,MAAA,OAAO,EAAEE,WAA3B;AAAwC,MAAA,UAAU,EAAC,QAAnD;AAA4D,MAAA,QAAQ,EAAEJ,KAAK,CAACE;AAA5E;AAAA;AAAA;AAAA;AAAA,YAHG,eAIH,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,YAJG;AAAA,kBAAP;AAOH;;GA/BQH,I;;MAAAA,I;;AAiCT,SAASY,UAAT,OAA0B;AAAA,MAAN;AAAChB,IAAAA;AAAD,GAAM;AAClB,sBAAO;AAAA,cACFiB,IAAI,CAACC,SAAL,CAAelB,GAAf;AADE;AAAA;AAAA;AAAA;AAAA,UAAP;AAGP;;MAJQgB,U;AAMT,eAAeb,GAAf","sourcesContent":["import './App.css';\nimport React, {useEffect, useState} from 'react'\nimport ButtonJeu from \"./component/buttonJeu/ButtonJeu\";\nimport Strategy from \"./component/Strategy/Strategy\"\n\nexport const ADDRSERVEUR=\"http://localhost:2200\"\nconst st= {\n    jeu : 1 ,\n    pointJ1 : 3,\n    pointJ2 : 1\n}\n\nfunction App() {\n\n\n  return (\n    <div className=\"App\">\n        <Game></Game>\n    </div>\n  );\n}\n\n\nfunction Game(){\n    const [state,setState]= useState({b1 :false,b2:false,jeu:{...st}})\n\n    useEffect(()=>{\n        //faire un fetch pour l'état initial du jeu\n    })\n\n    const handleClick= async (response,id)=>{\n        setState({...state,\n            b1 : true,\n            b2: true\n        })\n\n        await fetch(ADDRSERVEUR+\"/jeu/jeu/id=\"+1+\"&prop=\"+response,{method : 'POST'})\n        await fetch(ADDRSERVEUR+\"/jeu/miseEnAttente\").then((reponse)=>{\n                setState({\n                    b1 : false,\n                    b2: false,\n                    jeu:reponse\n                })\n            }\n        )\n    }\n\n    return <>\n        <ResumeGame jeu={state.jeu}></ResumeGame>\n        <ButtonJeu  id =\"c\" onClick={handleClick} nameButton=\"cooperate\" disabled={state.b1}></ButtonJeu>\n        <ButtonJeu id=\"l\" onClick={handleClick} nameButton=\"livery\" disabled={state.b1}></ButtonJeu>\n        <Strategy/>\n    </>\n\n}\n\nfunction ResumeGame({jeu}){\n        return <div>\n            {JSON.stringify(jeu)}\n        </div>\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}